<!DOCTYPE html><html class="no-js" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8" lang="en"><title>SOCKS5 proxy with ssh tunnel and chrome in OSX | Keksi.io</title><meta name="description" content="Today I learned how to debug http services with chrome in remote environment.
"><meta name="viewport" content="width=device-width, initial-scale=1"><meta property="og:title" content="SOCKS5 proxy with ssh tunnel and chrome in OSX"/><meta property="og:image" content="https://keksi.io/img/keksi-labs-og-small.png"/><meta name="twitter:image:alt" content="Keksi.io logo"/><meta property="og:image:width" content="300"/><meta property="og:image:height" content="300"/><meta name="twitter:site" content="keksiengineer"/><meta name="twitter:creator" content="koodimonni"/><meta property="article:published_time" content="2017-02-08T00:00:00+00:00"><meta property="article:modified_time" content="2017-02-08T21:32:45+00:00"><meta property="article:author" content="monnionni"><meta property="article:section" content="tutorials"><meta property="article:tag" content="ssh,socks5,proxy,chrome"><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta property="og:description" content="Today I learned how to debug http services with chrome in remote environment.
"/><meta property="og:url" content="https://keksi.io/tutorials/2017/02/08/socks5-proxy-with-ssh-and-chrome-in-osx/"/><meta property="og:locale" content="en_US"/><link rel="amphtml" href="https://keksi.io/amp/tutorials/2017/02/08/socks5-proxy-with-ssh-and-chrome-in-osx"><link type="text/css" rel="stylesheet" href="/assets/main-72b7720bf5f8884ff8539861c403b9c3bb2875391497ce90242d913ffc31f7ad.css"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="canonical" href="https://keksi.io/tutorials/2017/02/08/socks5-proxy-with-ssh-and-chrome-in-osx/"><link rel="alternate" type="application/atom+xml" title="Keksi.io" href="https://keksi.io/feed.xml"/> <script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-88238366-1","auto"),ga("send","pageview")</script></head><body> <header class="site-header"><div class="branding"> <a href="/"> <picture><source type="image/svg+xml" srcset="/logo.svg"><img class="avatar" src="/logo-44x44.png" width="44" alt="Keksi Labs Logo" height="44"></picture><h1 class="site-title">Keksi.io</h1> </a></div> <nav class="site-nav"><ul><li> <a class="page-link" href="/about/"> About </a></li></ul> </nav><nav class="external-links"><ul><li> <a href="https://keksi.io/feed.xml" title="Follow RSS feed"> <i class="fa fa-fw fa-rss"></i> </a></li><li> <a href="mailto:hello@keksi.io" title="Email"> <i class="fa fa-fw fa-envelope"></i> </a></li><li> <a href="https://github.com/KeksiLabs" title="Follow on GitHub"> <i class="fa fa-fw fa-github"></i> </a></li><li> <a href="https://twitter.com/keksiengineer" title="Follow on Twitter"> <i class="fa fa-fw fa-twitter"></i> </a></li></ul> </nav> </header><div class="content"> <article itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost"> <header style="background-image:url('/')"><h1 itemprop="headline" class="title">SOCKS5 proxy with ssh tunnel and chrome in OSX</h1><div class="post-about"> <span class="visually-hidden-mobile">Written by</span> <span class="entry-author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><a href="https://keybase.io/onnimonni" title="Posts by Onni Hakala" rel="author" class="url fn n" itemprop="url"> <img itemprop="image" class="img-circle meta-author-image" width="40" height="40" alt="Onni Hakala" src="https://s.gravatar.com/avatar/ffbe81bf9fa424901ddc06be226c98a4"> <span itemprop="name">Onni Hakala</span></a></span> on <time class="entry-published updated" datetime="2017-02-08T00:00:00+0000" itemprop="datePublished" title="Wednesday, February  8, 2017">February 8, 2017</time><span class="visually-hidden-mobile">.</span><p class="description"> <span class="visually-hidden-mobile">This article is</span> about <span itemprop="keywords"> <strong>ssh</strong>, <strong>socks5</strong>, <strong>proxy</strong> and <strong>chrome</strong>. </span></p></div> </header><section itemprop="articleBody" class="post-content"><p>Today I learned how to debug http services with chrome in remote environment.</p><p>I needed to debug http2 services which were only available in remote environment.</p><p>Here are the commands that you need:</p><div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c"># Open socks5 proxy to local port 1337</span>
<span class="c"># This connects to remote host using ssh into port 2222</span>
<span class="gp">$ </span>ssh -D 1337 -f -C -q -N user@remote -p 2222

<span class="c"># Symlink chrome binary to PATH</span>
<span class="c"># ( This is optional )</span>
<span class="gp">$ </span>ln -s /Applications/Google<span class="se">\ </span>Chrome.app/Contents/MacOS/Google<span class="se">\ </span>Chrome <span class="se">\</span>
	/usr/local/bin/chrome

<span class="c"># Open chrome using the socks5 proxy in port 1337</span>
<span class="gp">$ </span>chrome --proxy-server<span class="o">=</span><span class="s2">"socks5://127.0.0.1:1337"</span> <span class="se">\</span>
	--host-resolver-rules<span class="o">=</span><span class="s2">"MAP * 0.0.0.0 , EXCLUDE localhost"</span>
</code></pre></div><p>After this new chrome window opens and all requests except <code class="highlighter-rouge">localhost</code> are resolved through the remote machine.</p><p>Now you can access remote services easily from your browser.</p></section><small class="footnotes"> <i class="fa fa-info-circle"></i> <strong>Info:</strong> This post was last updated on: <time class="entry-modified modified" datetime="2017-02-08T21:32:45+0000" itemprop="dateModified" title="Wednesday, February  8, 2017">February 8, 2017</time>. It is published in <span itemprop="articleSection">tutorials</span> category, contains <span itemprop="wordCount">130</span> words and takes about <span>0</span> minutes to read.<meta itemprop="timeRequired" content="P0"/><meta itemprop="mainEntityOfPage" content="https://keksi.io/tutorials/2017/02/08/socks5-proxy-with-ssh-and-chrome-in-osx/"/> <span> It was published by <span itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"> <span itemprop="logo" itemscope itemtype="https://schema.org/ImageObject"><link itemprop="url" href="https://keksi.io/logo.png"/><meta itemprop="width" content="512"><meta itemprop="height" content="512"> </span><meta itemprop="email" content="hello@keksi.io"> <span itemprop="name">Keksi Labs Oy</span>. </span> </span> </small></article><div class="comments"><h2>Comments:</h2> <a class="muut" href="https://muut.com/i/keksi/comments" type="dynamic">keksi</a> <script async src="//cdn.muut.com/1/moot.min.js"></script></div></div> <footer class="site-footer container"><div class="row"><div class="column"><div id="contact" class="footer-content vcard" itemscope itemtype="http://schema.org/Organization"><h1>Contact Us</h1><div><a class="url fn" itemprop="name" href="https://keksi.io/">Keksi Labs Oy</a></div><div><span itemprop="taxID">2734524-4</span></div> <a class="email" itemprop="email" href="mailto:hello@keksi.io">hello@keksi.io</a><div itemprop="address" itemscope itemtype="http://schema.org/PostalAddress" class="adr"> <span itemprop="addressLocality" class="locality">Tampere</span>, <span itemprop="addressCountry" class="country-name">Finland</span></div></div></div><div class="column"><div class="footer-content"><h1>What we do?</h1><p>Keksi is web solutions agency which uses latest open source tools to provide scalable web platforms. We believe in <strong>testing</strong>, <strong>monitoring</strong> and <strong>automation</strong>.</p><p>Because nobody wants to lose their good night's sleep worrying about crashing servers.</p><p></div></div></div><div class="notice"> <small>© Keksi Labs Oy</small>, <small>Disclaimer: We’re using cookies, because cookies are the best! Have one here: <picture><source type="image/svg+xml" srcset="/logo.svg"><img class="avatar" src="/logo-22x22.png" width="22" alt="Keksi Labs Logo" height="22"></picture></small></div> </footer><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BlogPosting",

    "headline": "SOCKS5 proxy with ssh tunnel and chrome in OSX",
    
    
    "keywords": "ssh,socks5,proxy,chrome",
    "wordcount": "130",
    "publisher": {
        "@type": "Organization",
        "logo": {
            "@type": "ImageObject",
            "url": "https://keksi.io/logo.png",
            "width": "512",
            "height": "512"
        },
        "email": "hello@keksi.io",
        "name": "Keksi Labs Oy",
        "sameAs": [
            "https://twitter.com/keksiengineer",
            "https://github.com/KeksiLabs"
        ]
    },
    "url": "https://keksi.io/tutorials/2017/02/08/socks5-proxy-with-ssh-and-chrome-in-osx/",
    "mainEntityOfPage": "https://keksi.io/tutorials/2017/02/08/socks5-proxy-with-ssh-and-chrome-in-osx/",
    "datePublished": "2017-02-08",
    "dateCreated": "2017-02-08",
    "dateModified": "2017-02-08",
    "description": "Today I learned how to debug http services with chrome in remote environment.
",
    "articleBody": "Today I learned how to debug http services with chrome in remote environment.I needed to debug http2 services which were only available in remote environment.Here are the commands that you need:# Open socks5 proxy to local port 1337# This connects to remote host using ssh into port 2222$ ssh -D 1337 -f -C -q -N user@remote -p 2222# Symlink chrome binary to PATH# ( This is optional )$ ln -s /Applications/Google\\ Chrome.app/Contents/MacOS/Google\\ Chrome \\\t/usr/local/bin/chrome# Open chrome using the socks5 proxy in port 1337$ chrome --proxy-server=\"socks5://127.0.0.1:1337\" \\\t--host-resolver-rules=\"MAP * 0.0.0.0 , EXCLUDE localhost\"After this new chrome window opens and all requests except localhost are resolved through the remote machine.Now you can access remote services easily from your browser.",
    "author": {
        "@type": "Person",
        "name": "Onni Hakala",
        "url": "https://keybase.io/onnimonni",
        "image": "https://s.gravatar.com/avatar/ffbe81bf9fa424901ddc06be226c98a4",
        
        "sameAs": [
            
            "https://twitter.com/koodimonni",
            
            
            "https://www.facebook.com/monnionni",
            
            
            "https://keybase.io/onnimonni",
            
            "https://github.com/onnimonni"
        ]
        
    }
}
</script><script src="/assets/app-7e9774e4ca12ac9d274eefe9bb5bbcad25026046fbbfaddab8edf3cc83b7968c.js"></script></body></html>